# نظام إدارة الأمن - Security Management System

## نظرة عامة على المشروع - Project Overview
نظام إدارة أمني متكامل باللغة العربية يوفر إدارة للمستخدمين، الكاميرات، البلاغات والتقارير. النظام مصمم لتلبية احتياجات المؤسسات الأمنية مع واجهة مستخدم عربية سهلة الاستخدام.

### الأهداف - Objectives
- إدارة المستخدمين وصلاحياتهم بشكل آمن ومرن
- مراقبة وإدارة الكاميرات الأمنية
- معالجة وتتبع البلاغات الأمنية
- إنشاء وتصدير التقارير
- واجهة مستخدم عربية سهلة الاستخدام

## شخصيات المستخدمين - User Personas

### 1. مدير النظام (أدمن)
- يحتاج إلى وصول كامل لجميع وظائف النظام
- مسؤول عن إدارة المستخدمين والصلاحيات
- يقوم بمراقبة أداء النظام وإعداد التقارير الشاملة

### 2. المدير
- يحتاج إلى إدارة البلاغات والتقارير
- يشرف على فريق مشغلي الكاميرات
- يراجع ويعتمد التقارير

### 3. مشغل الكاميرات
- يراقب بث الكاميرات المباشر
- يسجل ويعالج البلاغات
- يحتاج إلى واجهة بسيطة وسريعة الاستجابة

## مواصفات الميزات - Feature Specifications

### إدارة المستخدمين
#### قصص المستخدم
- كمدير نظام، يمكنني إضافة مستخدمين جدد مع تحديد أدوارهم وصلاحياتهم
- كمدير نظام، يمكنني تعديل صلاحيات المستخدمين الحاليين
- كمستخدم، يمكنني تسجيل الدخول وتعديل معلوماتي الشخصية

#### معايير القبول
- يجب أن يكون البريد الإلكتروني فريداً لكل مستخدم
- يجب تطبيق الصلاحيات فوراً بعد التعديل
- يجب أن تكون كلمات المرور آمنة ومشفرة

### نظام الصلاحيات
#### المجموعات
1. لوحة التحكم
   - عرض لوحة التحكم
2. البلاغات
   - عرض البلاغات
   - إدارة البلاغات
   - معالجة البلاغات
3. الكاميرات
   - عرض الكاميرات
   - إدارة الكاميرات
4. التقارير
   - عرض التقارير
   - تصدير التقارير
5. المستخدمين
   - عرض المستخدمين
   - إدارة المستخدمين

## الأصول التصميمية - Design Assets

### النمط البصري
- خط النظام: Cairo (للواجهة العربية)
- الألوان الرئيسية:
  - أزرق رئيسي: #1976D2
  - رمادي: #757575
  - أحمر للتنبيهات: #D32F2F

## توثيق API - API Documentation

### خدمة المستخدمين (userService)
```typescript
getUsers(): Promise<User[]>
getUserById(id: number): Promise<User>
createUser(userData: Omit<User, 'id'>): Promise<User>
updateUser(id: number, userData: Partial<User>): Promise<User>
deleteUser(id: number): Promise<void>
```

### خدمة الصلاحيات (authService)
```typescript
hasPermission(user: User, permission: string): boolean
hasAnyPermission(user: User, permissions: string[]): boolean
getPermissionsByRole(role: string): string[]
getAllPermissions(): PermissionGroup[]
```

## مخطط قاعدة البيانات - Database Schema

### جدول المستخدمين (Users)
- id: number (Primary Key)
- name: string
- email: string (Unique)
- password: string (Hashed)
- role: string
- permissions: string[]

## إعداد البيئة - Environment Setup

### المتطلبات
- Node.js v18+
- npm v9+
- React v18+
- TypeScript v5+

### التثبيت
```bash
npm install
npm run dev
```

## إرشادات الاختبار - Testing Guidelines

### أنواع الاختبارات
1. اختبارات الوحدة: للخدمات والمكونات المنفصلة
2. اختبارات التكامل: للتفاعلات بين الخدمات
3. اختبارات الواجهة: للتأكد من سلامة واجهة المستخدم

## تعليمات النشر - Deployment Instructions

### البيئات
1. بيئة التطوير (Development)
   ```bash
   npm run dev
   ```
2. بيئة الإنتاج (Production)
   ```bash
   npm run build
   npm run start
   ```

## ممارسات التحكم بالإصدارات - Version Control

### استراتيجية الفروع
- main: للإصدارات المستقرة
- develop: للتطوير المستمر
- feature/*: لتطوير الميزات الجديدة
- hotfix/*: للإصلاحات العاجلة

### اصطلاحات رسائل الالتزام
- feat: للميزات الجديدة
- fix: للإصلاحات
- docs: للتوثيق
- style: للتنسيق
- refactor: لإعادة الهيكلة
- test: للاختبارات

## ممارسات الأمان - Security Practices

### حماية البيانات
- تشفير كلمات المرور باستخدام bcrypt
- استخدام JWT للمصادقة
- تطبيق HTTPS في الإنتاج
- التحقق من الصلاحيات قبل كل عملية

### معالجة البيانات الحساسة
- عدم تخزين كلمات المرور بشكل نصي
- تشفير المعلومات الحساسة في قاعدة البيانات
- تسجيل جميع العمليات الحساسة

## متطلبات الامتثال - Compliance Requirements

### حماية البيانات
- الامتثال لمتطلبات GDPR
- الامتثال للوائح حماية البيانات المحلية
- توثيق جميع عمليات معالجة البيانات الشخصية

### الأمن السيبراني
- تطبيق معايير الأمن السيبراني الوطنية
- إجراء تقييمات أمنية دورية
- وضع خطة للاستجابة للحوادث 